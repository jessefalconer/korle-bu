.content
  .header
    %h1.page-title Pallets
    %ul.breadcrumb
      %li
        = link_to "Home", index_path
      %li.active #{params[:display].present? ? params[:display].titleize + " " : "" }Pallets
    - if can? :create, Pallet
      = add_button(new_pallet_path, "Staged Pallet", "fa-pallet")
  .main-content
    %table.table.table-striped.table-hover.link-rows
      %thead
        %tr
          %th Custom ID
          %th Name
          %th Status
          %th.hidden-xs Shipper
          %th.hidden-xs Receiver
          %th.hidden-xs Created At
      %tbody
        - @pallets.each do |pallet|
          %tr
            %td
              = link_to pallet_path(pallet) do
                %p= pallet.custom_uid
            %td
              = link_to pallet_path(pallet) do
                %p= pallet.name
            %td
              = link_to pallet_path(pallet) do
                %p{class: "status-#{pallet.status.parameterize}"}= pallet.status
            %td.hidden-xs
              = link_to pallet_path(pallet) do
                %p= pallet.shipment&.shipping_warehouse&.name
            %td.hidden-xs
              = link_to pallet_path(pallet) do
                %p= pallet.shipment&.receiving_warehouse&.name
            %td.hidden-xs
              = link_to pallet_path(pallet) do
                %p= pallet.created_at.strftime("%Y-%m-%d")

    = paginate @pallets, window: 2
