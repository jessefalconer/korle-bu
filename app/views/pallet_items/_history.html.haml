- if @pallet.pallet_items.with_events.none?
  %p No history.
- else
  = render partial: "layouts/list_quick_filter", locals: {placeholder: "Filter by name...", assoc: "history-items"}
  - @pallet.pallet_items.with_events.each do |pi|
    .row.inline-add-item
      .col-xs-12.manage-item-name
        %p #{pi.generated_name}
        .drawer-info
          %span.label.label-warning= pi.quantity - pi.remaining_quantity
          %i.fa.fa-ellipsis-v
      .col-xs-12.manage-item-form.hidden
        - pi.unpacking_events.order(:created_at).reverse_order.each do |event|
          .unpacking-entry
            .entry-info
              %p
                â€¢ #{event.created_at.strftime("%Y-%m-%d")}:
                = link_to user_path(event.user) do
                  = event.user.name
                removed #{event.quantity} #{event.quantity > 1 ? "items" : "item"}.
              - unless event.notes.blank?
                %p
                  Notes:
                  %em= event.notes
            = delete_button(pallet_pallet_item_pallet_unpacking_event_path(@pallet, pi, event), "Are you sure you want to delete this unpacking entry?", "pull-right")
        .unpacking-entry
          .entry-info
            %p Current inventory remaining:
          %h4.text-center= pi.remaining_quantity
