- if @pallet.pallet_items.none?
  %p Use the tabs to search or create a new item.
- else
  .input-group.search.span12
    .input-group
      = text_field_tag :search, params[:search], placeholder: "Quick filter an item by name...", class: "form-control", id: "quick-filter"
      %span.input-group-btn.span12
        %a{id: "quick-filter-submit"}
          .btn.btn-primary.pull-left
            %span Quick Filter
  - @pallet.pallet_items.each do |pi|
    = form_for pi, url: pallet_pallet_item_path(@pallet, pi) do |f|
      .row.inline-add-item
        .col-xs-12.results-item-name{data: {unit_weight: pi.item.unit_weight, item_id: pi.item.id}}
          %p= pi.generated_name
          %i.fa.fa-ellipsis-v
        .col-xs-12.results-item-form.hidden
          .form-group
            = f.label :expires
            = f.text_field :expiry_date, value: pi.expiry_date&.strftime("%Y-%m-%d"), class: "form-control datepickers", id: "expiry-#{pi.id}", placeholder: "yyyy-mm-dd"
            = f.label :quantity
            = f.number_field :quantity, value: 1, class: "form-control", min: 1, id: "quantity-#{pi.id}"

            = f.label "Weight (g)"
            = f.number_field :weight, class: "form-control", id: "weight-#{pi.id}", placeholder: "grams"
          .btn-toolbar.list-toolbar
            = delete_button(pallet_pallet_item_path(@pallet, pi), "Are you sure you want to delete #{pi.generated_name}?")
            = submit_button("Update", "pull-right")
